# Отчет по проекту: Интерактивная аналитика больших данных

## Введение

Проект «Интерактивная аналитика больших данных» направлен на создание аналитического приложения для анализа городской системы проката велосипедов и заказов такси. Основная цель — разработка интерактивных дашбордов и аналитических инструментов для оптимизации перемещения жителей города.

## Ожидаемый результат

- Создание интерактивного дашборда для анализа маршрутов на платформе Yandex DataLens.
- Рекомендации по оптимизации перемещения на основе пиковых нагрузок.

## Исходные данные

- Данные поездок такси.
  Источник: NYC Yellow Taxi Trip Data

- Данные проката велосипедов.
Источник: New York City Bike Share Dataset

## Описание датасетов
Все данные собираются и управляются TLC, что обеспечивает их достоверность и актуальность.
Правовые аспекты:

## Данные предоставляются с разрешения соответствующих организаций.

### NYC Bike Share Dataset
Описание сервиса: New York City Bike Share предоставляет услуги проката велосипедов по районам Нью-Йорка. Сервис позволяет совершать быстрые, простые и доступные по цене поездки. Данные регулярно публикуются в открытом доступе.
Характеристики набора данных:

Объем данных: 735,502 анонимных поездок
Период сбора: январь 2015 -- июнь 2017
Владелец данных: NYC Bike Share, LLC
Оператор сервиса: Jersey City Bike Share, LLC (Citi Bike)

### NYC Taxi & Limousine Commission (TLC) Dataset
Описание сервиса: Комиссия по такси и лимузинам Нью-Йорка (TLC) собирает и хранит данные о различных видах транспортных услуг. Данные доступны для бесплатного скачивания с официального сайта.
Типы транспортных услуг:

#### Yellow Taxi (Такси с желтым медальоном):

- Знаменитые желтые такси Нью-Йорка
- Осуществляют перевозки исключительно по улицам
- Количество такси ограничено количеством медальонов
- Посадка происходит только путем ручного вызова на улице
- Предварительная запись не предусмотрена

#### Green Borough Taxi:

- Такси с зеленой ливреей
- Участвуют в программе SHL
- Оснащены:
Фирменными знаками такси;
Счетчиками;
Терминалами для приема карт;
- Имеют право на уличные поездки
- Поддерживают предварительные заказы

#### For-Hire Vehicles (FHV):

- Транспортные средства по заказу
- Доступ к услугам осуществляется по предварительной договоренности

## Функциональные требования

### Интерактивные дашборды:

- Возможность анализа маршрутов и времени в пути.
- Визуализация данных в зависимости от времени суток и маршрута.
- Поддержка платформ: Yandex DataLens (ссылка).

### Исследовательский анализ данных:

- Использование визуализаций в Colab.
- Разработка рекомендаций по оптимизации перемещения.

## Технические требования

### Базы данных:

- Использование SQL для работы с базами данных.
- Поддержка диалектов PostgreSQL.


### Data Science:

- Программирование на Python (NumPy, Pandas).
- Обработка данных для дашбордов с использованием скриптов.


### BI-аналитика:

- Создание интерактивных дашбордов с использованием Yandex DataLens.

## Роли и задачи команды

### ИТ-роли:

- Специалист по работе с базами данных.
- Data Scientist.
- Аналитик данных.

### Не ИТ-роли:

Маркетолог, продуктовый аналитик.

## Сроки и этапы реализации

- День 1–3: Анализ данных, разработка моделей, создание дашбордов.
- День 4–5: Тестирование и интеграция компонентов.
- День 6: Деплоймент и обучение пользователей.
- День 7: Финальная проверка и закрытие проекта.

## Использованные данные и инфраструктура

Использованы датасеты:
New York City Bike Share Dataset
[NYC Yellow Taxi Trip Data](https://www.kaggle.com/datasets/elemento/nyc-yellow-taxi-trip-data/data?select=yellow_tripdata_2015-01.csv)

База данных PostgreSQL:

Адрес: 213.171.24.52
Порт: 5432
БД: transport
Пользователь: postgres
Пароль: Pa$$w0rd
Датасеты добавлены в базу в сыром виде.

Созданы запросы для добавления данных в базу, примеры для агрегации:

- Загруженность (количество поездок в час) для такси и велосипедов.
- Загруженность по дням недели (только для такси).
- Станции с наибольшим/наименьшим оборотом велосипедов.
- Средняя цена поездки на такси в зависимости от времени.
- Выборка популярных/непопулярных маршрутов.

## Обработка данных:

Использован скрипт на Python (clean.py) из репозитория GitHub, который:
Рассчитывает время поездок в минутах и расстояние в метрах (для велосипедов с использованием формулы Haversine).
Агрегирует данные по часам дня.
Объединяет данные такси и велосипедов в файл combined_trips_data.csv.

## Анализ дашбордов
Дашборд, размещенный на Yandex DataLens, предоставляет интерактивные визуализации:

### График зависимости в пути от расстояния

Начиная с 35 км такси не вызывается. Это может быть связано с высокой стоимостью поездки (стоимость зависит от расстояния).
График TAXI - ёж. "Иголки" могут демонстрировать задержки в пути в виде пробок, что сказывается на времени.
График BIKE соответствует реальности: с увеличением расстояния увеличивается время.

### График среднего времени в пути от времени суток

Среднее время в пути на BIKE больше, чем на TAXI в любое время суток.

### График количества использования от времени

Жители выбирают BIKE с 6 до 10 утра и около 6 часов вечера (17-18 часов) чаще, чем TAXI. Это может быть связано с работой: на работу и с работы каждый день добираются на велосипеде, так как это выгоднее, чем на такси.
В ночное и вечернее время (после 20 часов) выбирают такси: добираться из ресторана/кафе/с дискотеки проще на такси (могут возникнуть проблемы с кручением педалей).

### График времени в пути от времени (от 0 до 24)

Время в пути здесь представлено как сумма всех поездок в это время.
По смыслу график соответствует "Количество использования от времени".

Дашборд интерактивен, что позволяет фильтровать данные по времени, типу транспорта и другим параметрам.

## Рекомендации по оптимизации транспорта на основе графиков
1. Увеличить количество велосипедов в дневное время (с 6:00 до 10:00 и около 18:00) для удовлетворения повышенного спроса, связанного с поездками на работу и с работы. Это соответствует экономической выгоде велосипедов для коротких и регулярных поездок.
2. Увеличить доступность такси в ночное и вечернее время (после 20:00), чтобы соответствовать повышенному спросу, особенно для поездок из ресторанов, кафе или ночных заведений, где использование велосипеда может быть менее удобным.
3. Для расстояний более 35 км сосредоточиться на улучшении сервиса такси или исследовании альтернативных транспортных решений, поскольку использование такси резко снижается, вероятно, из-за высокой стоимости. Это может включать предложения скидок или гибридных транспортных решений.
4. Устранить задержки такси, указанные "иголками" на графике зависимости времени от расстояния, оптимизируя маршруты или увеличивая парк автомобилей в часы пиковых пробок для повышения эффективности.

## Рекомендации по улучшению
Для дальнейшего развития проекта можно добавить следующие улучшения:
1. Интеграция погодных данных: учет влияния температуры, осадков и ветра на использование велосипедов и такси.
2. Анализ демографических данных: добавление информации о пользователях (возраст, пол) для более точного профилирования.
3. Оптимизация маршрутов: внедрение алгоритмов машинного обучения для предложения оптимальных маршрутов с учетом трафика и расстояния.
4. Интеграция с другими видами транспорта: учет данных о метро и автобусах для создания единой системы мобильности.

## Заключение
Проект успешно интегрирует данные о прокате велосипедов и такси для создания интерактивных аналитических инструментов. Дашборды, разработанные в Yandex DataLens, и анализ, проведенный с использованием Python, обеспечивают ценную информацию для оптимизации городской мобильности. Внедрение временных рядов и дополнительных данных позволит улучшить прогнозирование и рекомендации.
